<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>three.js app</title>
        <link href="../assets/style.css" rel="stylesheet" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    </head>

    <body>
        <h1 class="title">Infographie : TP 4 - Noel 3D</h1>

        <div class="page">
            <div class="bg mainmenu">
                <div>
                    <span>Affichage de la BSpline</span>
                    <div>
                        <button
                            id="baseBtn"
                            data-method="base"
                            onclick="toggleBezierDisplay('base')"
                        >
                            Méthode de Base
                        </button>
                    </div>
                </div>

                <div class="col">
                    <span>Paramètres de la BSpline :</span>
                    <div>
                        <label for="degree">degré m : </label>
                        <input
                            type="number"
                            name="degree"
                            id="degree"
                            value="1"
                        />
                        <button onclick="changeDegree()">Appliquer</button>
                        <button onclick="changeDegree()">Initial</button>
                    </div>
                    <div>
                        <label for="vector">Vecteur Nodal : </label>
                        <input type="text" name="vector" id="vector" value="" />
                        <button onclick="changeVector([])">Appliquer</button>
                        <button onclick="changeVector(-1)">Aléatoire</button>
                        <button onclick="changeVector(-2)">Uniforme</button>
                    </div>

                    <span>m = <span id="degreeValue"></span></span>
                    <span>t = <span id="vectorValue"></span></span>
                </div>

                <div class="applications">
                    <span>Applications :</span>
                    
                    <button onclick="addNoel()">
                        Courbe 3 - Sapin de Noel
                    </button>
                    <!-- import application by file -->
                    <div>
                        <label for="file">Importer un fichier : </label>
                        <input type="file" name="file" id="file" />
                        <button onclick="importFile()">Importer</button>
                    </div>
                </div>
            </div>

            <div class="threejs">
                <div id="threejs" style="border-color: red; border: 20px"></div>
            </div>

            <div class="bg">
                <div>
                    <details>
                        <summary>Informations</summary>
                        Clic molette pour sélectionner un point,<br />
                        et recliquer au niveau de la destination. Maintenir clic
                        droit pour tourner la caméra autour de la souris.
                        Maintenir clic molette pour se déplacer en plan.
                    </details>
                </div>
                <br />
                <div class="menu">
                    <div class="addPoint">
                        <div>
                            <label for="xcoord">X : </label>
                            <input type="number" name="xcoord" id="xcoord" />
                        </div>
                        <div>
                            <label for="ycoord"> Y : </label>
                            <input type="number" name="ycoord" id="ycoord" />
                        </div>
                    </div>
                    <button onclick="addPointFromInput()">Ajouter Point</button>
                    <button onclick="toggleControlsPoints()">
                        Toggle Points
                    </button>
                </div>
                <br />
                <button onclick="clearGraph()">Réinitialiser</button>
                <br />
                <!-- export as json file -->
                <div>
                    <label for="export">Exporter en JSON : </label>
                    <input type="text" name="export" id="export" value="" />
                    <button onclick="exportFile()">Exporter</button>
                </div>


                <div class="tablePoints">
                    <table>
                        <thead>
                            <tr>
                                <th colspan="3">Points présents</th>
                            </tr>
                        </thead>
                        <tbody id="points">
                            <tr>
                                <td>id</td>
                                <td>X</td>
                                <td>Y</td>
                                <td>Z</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <script src="../assets/three.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
        <script src="../src/manage-dashboard.js"></script>
        <script src="../src/noel-3d.js"></script>
    </body>
</html>
